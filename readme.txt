basic_sourceに制約処理を追加